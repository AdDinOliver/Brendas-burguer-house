<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Card√°pio Digital</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&display=swap" rel="stylesheet">


  <style>
  
  
    * {
      box-sizing: border-box;
    }

    body {
      font-family: "Fredoka", sans-serif;
      margin: 0;
      font-family: "Fredoka", sans-serif;
      background: #f9f9f9;
      padding-bottom: 100px;
      user-select: none;
    }

    h1 {
      text-align: center;
      background: #ff4d4d;
      color: white;
      padding: 15px;
      margin: 0;
    }

    .abas {
      display: flex;
      overflow-x: auto;
      background: #fff;
      border-bottom: 2px solid #eee;
      color: orangered;
    }

    .aba {
      flex: 1;
      padding: 12px;
      text-align: center;
      cursor: pointer;
      background: #f1f1f1;
      border-right: 1px solid #ddd;
      font-weight: bold;
      color: orangered;
    }

    .aba.ativa {
      background: transparent;
      color: white;
      color: orangered;
      font-size: 5vw;
    }

        .produtos {
      padding: 20px;
    }

    .produto {
      position: relative;
      background: white;
      margin-bottom: 15px;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: .3s;
      margin: auto;
    
    font-family: "Fredoka", sans-serif;
    }
    

    .produto img {
      width: 100%;
      height: 40vw;
      transition: .3s;
      object-fit: cover;
      border-radius: 2vw;
      transition: .3s;
    }
    
    .produto img:hover {
      position: relative;
      height: 120vw;
      object-fit: cover;
      
    }

    .btn {
      background: #ff4d4d;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 6px;
      margin-top: 10px;
      cursor: pointer;
      width: 100%;
    }

    /* Carrinho */
    #carrinho-toggle {
      display: none;
    }

    #carrinho-label {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #ff4d4d;
      color: white;
      padding: 15px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 999;
      font-size: 18px;
    }

    #contador {
      background: yellow;
      color: black;
      font-weight: bold;
      padding: 2px 6px;
      border-radius: 10px;
      font-size: 14px;
      position: absolute;
      top: -5px;
      right: -5px;
    }

    #carrinho {
      position: fixed;
      bottom: 80px;
      right: 20px;
      background: white;
      width: 300px;
      max-height: 80vh;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      overflow-y: auto;
      padding: 15px;
      display: none;
      z-index: 998;
      transition: .3s;
    }

    #carrinho-toggle:checked ~ #carrinho {
      display: block;
      transition: .3s;
    }

    #lista-carrinho li {
      margin-bottom: 12px;
      position: relative;
    }

    .btn-remove {
      background: none;
      border: none;
      color: red;
      font-size: 16px;
      position: absolute;
      right: 0;
      top: 0;
      cursor: pointer;
    }

    form {
      margin-top: 15px;
    }

    form input, form select, form textarea {
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    form button {
      width: 100%;
      background: #28a745;
    }

    #totalPedido {
      margin-top: 10px;
      font-weight: bold;
      font-size: 16px;
      text-align: right;
    }
    
    
    
    
    
    /* --header-- */




/* -- CSS do header -- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}


.header {
    background: linear-gradient(135deg, #ff6b35 0%, #f7931e 50%, #ff4757 100%);
    position: relative;
    overflow: hidden;
    min-height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding-top: 15vw;
}

.header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.15) 0%, transparent 50%);
    animation: float 6s ease-in-out infinite;
}

.nav {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding: 20px 50px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 100;
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.1);
}

.logo {
    font-size: 2rem;
    font-weight: 900;
    color: white;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    gap: 10px;
}

.logo::before {
    content: 'üçî';
    font-size: 2.5rem;
    animation: bounce 2s infinite;
}

.nav-menu {
    display: flex;
    list-style: none;
    gap: 30px;
}

.nav-menu li a {
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-size: 1.1rem;
    transition: all 0.3s ease;
    position: relative;
    padding: 5px 0;
}

.nav-menu li a::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background: white;
    transition: width 0.3s ease;
}

.nav-menu li a:hover::after {
    width: 100%;
}

.nav-menu li a:hover {
    transform: translateY(-2px);
}

.hero-content {
    text-align: center;
    color: white;
    z-index: 10;
    max-width: 800px;
    padding: 0 20px;
}

.hero-title {
    font-size: 4.5rem;
    font-weight: 900;
    margin-bottom: 20px;
    text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.4);
    animation: slideInUp 1s ease-out;
    line-height: 1.1;
}

.hero-subtitle {
    font-size: 1.4rem;
    margin-bottom: 30px;
    opacity: 0.95;
    animation: slideInUp 1s ease-out 0.2s both;
    font-weight: 300;
    letter-spacing: 1px;
}

.hero-description {
    font-size: 1.2rem;
    margin-bottom: 40px;
    opacity: 0.9;
    animation: slideInUp 1s ease-out 0.4s both;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
}
/*
.cta-buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
    animation: slideInUp 1s ease-out 0.6s both;
}

.btn {
    padding: 15px 30px;
    border: none;
    border-radius: 50px;
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    display: inline-block;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.btn-primary {
    background: white;
    color: #ff6b35;
    box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);
}

.btn-primary:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(255, 255, 255, 0.4);
}

.btn-secondary {
    background: transparent;
    color: white;
    border: 2px solid white;
}

.btn-secondary:hover {
    background: white;
    color: #ff6b35;
    transform: translateY(-5px);
}
*/
.floating-elements {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
}

.floating-burger {
    position: absolute;
    font-size: 3rem;
    opacity: 0.1;
    animation: floatAround 15s infinite linear;
}

.floating-burger:nth-child(1) {
    top: 20%;
    left: 10%;
    animation-delay: 0s;
}

.floating-burger:nth-child(2) {
    top: 60%;
    right: 15%;
    animation-delay: -5s;
}

.floating-burger:nth-child(3) {
    bottom: 30%;
    left: 20%;
    animation-delay: -10s;
}

/* Efeito de part√≠culas */
.particles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    animation: particleFloat 8s infinite linear;
}

.particle:nth-child(odd) {
    animation-duration: 10s;
    background: rgba(255, 255, 255, 0.3);
}

/* Animations */
@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    60% { transform: translateY(-5px); }
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(50px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes floatAround {
    0% { transform: rotate(0deg) translateX(100px) rotate(0deg); }
    100% { transform: rotate(360deg) translateX(100px) rotate(-360deg); }
}

@keyframes particleFloat {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translateY(-10vh) rotate(360deg);
        opacity: 0;
    }
}

/* Responsive */
@media (max-width: 768px) {
    .nav {
        padding: 15px 20px;
        flex-direction: column;
        gap: 15px;
    }

    .nav-menu {
        gap: 20px;
    }

    .hero-title {
        font-size: 3rem;
    }

    .hero-subtitle {
        font-size: 1.2rem;
    }

    .hero-description {
        font-size: 1rem;
    }

    .cta-buttons {
        flex-direction: column;
        align-items: center;
    }

    .btn {
        padding: 12px 25px;
        font-size: 1rem;
        font-family: "fredoka", sans-serif;
    }
}

html {
  scroll-behavior: smooth;
}




/* --- estilos nomePro e etc--- */

.nomeProd{
  background: transparent;
  padding: 2vw 2vw 2vw 0;
  font-size: 5vw;
}

.precoProd{
  background: transparent;
  padding: 2vw 2vw 2vw 0;
  font-size: 6vw;
}
.descricaoProd{
  background: transparent;
  padding: 0 0 3vw 0;
  color: grey;
}
.adicionais{
  background: transparent;
  padding: 2vw 2vw 2vw 0;
  display: fle;
  justify-content: space-between;
  font-size: 3.5vw;
  
}
#card-dig{
  text-shadow: .5vw .5vw .5vw rgba(0, 0, 0, 0.3);
}





.horario-container {
  max-width: 100vw;
  margin: auto;
  background: #fff8f0;
  padding: 30px;
  border-radius: 2vw;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
  text-align: center;
  font-family: "Fredoka", sans-serif;
  transition: all 0.3s ease-in-out;
  border: 3px dashed #ffbb55;
  height: 38vw;
}

.horario-container h2 {
  font-size: 3vw;
  margin-bottom: 20px;
  color: #ff884d;
  padding: 0;
  background: transparent;
}

.horario-container ul {
  list-style: none;
  padding: 0;
  margin: 0;
  background: whitesmoke;
  margin-top: -2vw;
}

.horario-container li {
  padding: 1vw 1vw;
  font-size: 4vw;
  color: #444;
  border-bottom: 1px dotted #ffcfa6;
  text-align: center;
  padding-left: ;
}

.horario-container li:last-child {
  border-bottom: none;
}

.status {
  font-size: 2vw;
  font-weight: 500;
  padding: 0;
  display: inline-block;
  border-radius: 40px;
  transition: background 0.4s, color 0.4s, box-shadow 0.3s;
  letter-spacing: .5vw;
  
  position: relative;
  top: 3vw;
}

.status.aberto {
  background-color: #c8f8d0;
  color: #1c8c4c;
  box-shadow: 0 0 15px rgba(28, 140, 76, 0.3);
}

.status.fechado {
  background-color: #ffd0d0;
  color: #c20000;
  box-shadow: 0 0 15px rgba(194, 0, 0, 0.2);
}

@media (max-width: 480px) {
  .horario-container {
    padding: 20px;
  }
  
  .horario-container h2 {
    font-size: 6vw;
  }
  
  .status {
    font-size: 4vw;
    padding: .5vw 2vw;
  }
}



/* -- footer -- */

.footer-lanchonete {
  background: #ffbb55;
  padding: 20px 10px;
  text-align: center;
  color: #fff;
  font-family: "Fredoka", sans-serif;
  font-size: 1rem;
  border-top: 4px solid #ff884d;
  margin-top: 0;
  position: relative;
  top: 30vw;
}

.footer-lanchonete p {
  margin: 5px 0;
  line-height: 1.4;
  text-shadow: 1px 1px 1px rgba(0,0,0,0.1);
}

@media (max-width: 480px) {
  .footer-lanchonete {
    font-size: 0.9rem;
    padding: 15px 8px;
    margin: 0;
  }
}

        /* Container do slider */
        .slider {
            max-width: 300%;
            margin: auto;
            background: orange;
            border-radius: 0;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .slider h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
            background: ;
        }

        /* Container dos slides */
        .slides-container {
            position: relative;
            width: 100%;
            height: 100vw;
            overflow: hidden;
            border-radius: 8px;
        }

        .slides {
            display: flex;
            transition: transform 0.5s ease;
            height: 100%;
        }

        /* Cada slide */
        .slide {
            min-width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: transparent;
        }

        /* Imagem do slide */
        .slide-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 1;
        }

        /* Conte√∫do do slide */
        .slide-content {
            text-align: center;
            color: white;
            padding: 20px;
            max-width: 90%;
            position: relative;
            z-index: 2;
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 50%, #ff4757 100%);
            border-radius: 10px;
            
            width: 73vw;
            height: 45vw;
        }

        .slide-content h3 {
            font-size: 4vw;
            margin-bottom: 10px;
            background: ;
        }

        .slide-content p {
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .slide-content .price {
            font-size: 20px;
            font-weight: bold;
            color: #ffeb3b;
        }

        /* Estado vazio */
        .empty-state {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .empty-state span {
            font-size: 48px;
            display: block;
            margin-bottom: 20px;
        }

        .empty-state h3 {
            margin-bottom: 10px;
        }

        /* Bot√µes de navega√ß√£o */
        .nav-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.8);
            border: none;
            color: #333;
            font-size: 3vw;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s ease;
            z-index: 3;
        }

        .nav-button:hover {
            background: white;
            transform: translateY(-50%) scale(1.1);
        }

        .prev {
            left: 5px;
        }

        .next {
            right: 5px;
        }

        /* Indicadores */
        .indicators {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator.active {
            background: #667eea;
            transform: scale(1.2);
        }

        /* Loading */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #666;
            font-size: 16px;
        }

        /* Responsivo */
        @media (max-width: 768px) {
            
            
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .slides-container {
                height: 100vw;
            }
            
            .slide-content h3 {
                font-size: 5vw;
                margin-bottom: 8px;
            }
            
            .slide-content p {
                font-size: 12px;
                margin-bottom: 12px;
            }
            
            .slide-content .price {
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .slides-container {
                height: 40vw;
            }
            
            .slide-content {
                padding: 0;
            }
            
            .slide-content h3 {
                font-size: 6vw;
                position: relative;
                padding: 3vw 3vw 3vw 3vw;
                top: 0;
            }
            
            .slide-content p {
                font-size: 5vw;
                position: relative;
                top: -8vw;
                padding: 3vw;
            }
            
            .slide-content .price {
                font-size: 8vw;
                background: transparent;
                text-align: center;
                margin-top: -13vw;
                position: relative;
                display: block;
                color: white;
                border-radius: 0 0 3vw 3vw;
            }
        }
        
        
        .produto{
        margin-top: 5vw;
        }
  </style>
</head>
<body>
<section id="horarios" class="horario-container">
  <h2>Hor√°rio de Funcionamento</h2>
  <ul>
    <li>Seg a Dom: 6:00 - 10:30/18:00 - 22:00</li><!--
    <li>S√°bado: 6:00 - 10:30/18:00 - 22:00</li>
    <li>Domingo: 6:00 - 10:30/18:00 - 22:00</li>-->
  </ul>
  <div id="status-horario" class="status">Verificando...</div>
</section>


    <header id="home" class="header">
        <nav class="nav">
            <div class="logo">Brenda's Burger House</div>
            <ul class="nav-menu">
                <li><a href="#home">In√≠cio</a></li>
                <li><a href="#card-dig">Card√°pio</a></li>
                <li><a href="#about">Sobre</a></li>
                <li><a href="#contact">Contato</a></li>
            </ul>
            
        </nav>
        
        
        
        

        <div class="hero-content">
            <h1 class="hero-title">Sabores que<br>Conquistam</h1>
            <p class="hero-subtitle">A melhor experi√™ncia em hamb√∫rgueres artesanais</p>
            <p class="hero-description">
                Ingredientes frescos, receitas √∫nicas e muito amor em cada hamb√∫rguer. 
                Venha descobrir por que somos a lanchonete favorita da cidade!
            </p>
            
            </div>
        </div>

        <div class="floating-elements">
            <div class="floating-burger">üçî</div>
            <div class="floating-burger">üçü</div>
            <div class="floating-burger">ü•§</div>
        </div>

        <div class="particles">
            <div class="particle" style="left: 10%; animation-delay: 0s;"></div>
            <div class="particle" style="left: 20%; animation-delay: 1s;"></div>
            <div class="particle" style="left: 30%; animation-delay: 2s;"></div>
            <div class="particle" style="left: 40%; animation-delay: 3s;"></div>
            <div class="particle" style="left: 50%; animation-delay: 4s;"></div>
            <div class="particle" style="left: 60%; animation-delay: 5s;"></div>
            <div class="particle" style="left: 70%; animation-delay: 6s;"></div>
            <div class="particle" style="left: 80%; animation-delay: 7s;"></div>
            <div class="particle" style="left: 90%; animation-delay: 8s;"></div>
        </div>
        
        
    </header>

  
  <h1 id="card-dig">Card√°pio Digital</h1>

        <!-- √Årea do Cliente -->
        <div id="clientArea" class="client-area">
            <section class="slider">
                <h2>üéâ Novidades e Promo√ß√µes</h2>
                <div class="slides-container">
                    <div id="slides" class="slides">
                        <div class="loading">Carregando promo√ß√µes...</div>
                    </div>
                    <button class="nav-button prev" onclick="prevSlide()">‚ùÆ</button>
                    <button class="nav-button next" onclick="nextSlide()">‚ùØ</button>
                </div>
                <div id="indicators" class="indicators"></div>
            </section>
        </div>


  <div class="abas" id="abas"></div>

  <div class="produtos" id="produtos"></div>

  <input type="checkbox" id="carrinho-toggle" />
  <label id="carrinho-label" for="carrinho-toggle">
    üõí <span id="contador">0</span>
  </label>

  <div id="carrinho">
    <h3>Seu Pedido</h3>
    <ul id="lista-carrinho"></ul>
    <p id="totalPedido">Total: R$ 0,00</p>

    <form id="form-pedido">
      <input type="text" placeholder="Nome" required id="nome" />
      <input type="tel" placeholder="WhatsApp" required id="whatsapp" />
      <input type="text" placeholder="Endere√ßo" required id="endereco" />
      <select required id="pagamento">
        <option value="">Pagamento</option>
        <option>Pix</option>
        <option>Dinheiro</option>
        <option>Cart√£o</option>
      </select>
      <textarea placeholder="Observa√ß√µes" id="observacoes"></textarea>
      <button type="submit" class="btn">Enviar Pedido</button>
    </form>
  </div>
  
  <footer class="footer-lanchonete">
  <p>&copy; 2025 ‚ù§Ô∏è Brenda's Burguer House. Todos os direitos reservados.</p>
  <p>Feito por Din Oliver</p>
</footer>

  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD7zUsB44wc3DPEMJ3tMeB2WxPkhICxzpQ",
      authDomain: "loja-31f80.firebaseapp.com",
      databaseURL: "https://loja-31f80-default-rtdb.firebaseio.com",
      projectId: "loja-31f80",
      storageBucket: "loja-31f80.appspot.com",
      messagingSenderId: "10287886567",
      appId: "1:10287886567:web:80131c6086c573689cb242"
    };

    firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const produtosRef = db.ref("produtos");
const pedidosRef = db.ref("pedidos");

const carrinho = {};
const carrinhoDiv = document.getElementById('carrinho');

function atualizarCarrinho() {
  const lista = document.getElementById('lista-carrinho');
  lista.innerHTML = '';
  let total = 0;
  let contador = 0;

  for (const id in carrinho) {
    const item = carrinho[id];
    let subtotal = item.preco * item.qtd;

    let adicionaisTxt = '';
    if (Array.isArray(item.adicionais)) {
      let valorAdicionais = 0;
      adicionaisTxt = item.adicionais.map(nome => {
        const ad = item.todosAdicionais.find(a => a.nome === nome);
        if (ad) {
          valorAdicionais += ad.valor;
          return `${nome} (+R$ ${ad.valor.toFixed(2).replace('.', ',')})`;
        }
        return nome;
      }).join(', ');
      subtotal += valorAdicionais * item.qtd;
      adicionaisTxt = `<br><small style="color:#555;">Adicionais: ${adicionaisTxt}</small>`;
    }

    total += subtotal;
    contador += item.qtd;

    const li = document.createElement('li');
    li.style.marginBottom = '10px';
    li.innerHTML = `
      <strong>${item.nome}</strong>
      <div style="display: inline-flex; align-items: center; gap: 5px; margin-top: 4px;">
        <button onclick="alterarQtd('${id}', -1)" style="padding: 2px 6px;">‚ûñ</button>
        <span>x${item.qtd}</span>
        <button onclick="alterarQtd('${id}', 1)" style="padding: 2px 6px;">‚ûï</button>
      </div>
      ${adicionaisTxt}
      <br>
      <span style="color:green;">Subtotal: R$ ${subtotal.toFixed(2).replace('.', ',')}</span>
      <button onclick="removerItem('${id}')" style="margin-left:10px; color:red; background:none; border:none; font-weight:bold;">‚ùå</button>
    `;
    lista.appendChild(li);
  }

  document.getElementById('contador').textContent = contador;
  document.getElementById('totalPedido').textContent = `Total: R$ ${total.toFixed(2).replace('.', ',')}`;
}

function alterarQtd(id, delta) {
  if (carrinho[id]) {
    carrinho[id].qtd += delta;
    if (carrinho[id].qtd <= 0) {
      delete carrinho[id];
    }
    atualizarCarrinho();
  }
}

function removerItem(id) {
  delete carrinho[id];
  atualizarCarrinho();
}

function adicionarAoCarrinhoComAdicionais(botao, produto) {
  const container = botao.closest('.produto');
  const adicionaisSelecionados = [];
  const adicionaisCheckboxes = container.querySelectorAll('input[name="adicional"]:checked');

  adicionaisCheckboxes.forEach(cb => adicionaisSelecionados.push(cb.value));

  // ID √∫nico baseado no nome + adicionais (ordenados para garantir consist√™ncia)
  const id = produto.nome + '|' + adicionaisSelecionados.sort().join(',');

  if (carrinho[id]) {
    carrinho[id].qtd += 1;
  } else {
    carrinho[id] = {
      nome: produto.nome,
      qtd: 1,
      preco: produto.preco,
      adicionais: adicionaisSelecionados,
      todosAdicionais: produto.adicionais || []
    };
  }

  atualizarCarrinho();
}

produtosRef.on('value', snapshot => {
  const data = snapshot.val();
  const categorias = {};
  for (const id in data) {
    const p = data[id];
    if (!categorias[p.categoria]) categorias[p.categoria] = [];
    categorias[p.categoria].push(p);
  }

  const abasEl = document.getElementById('abas');
  const produtosEl = document.getElementById('produtos');

  abasEl.innerHTML = '';
  produtosEl.innerHTML = '';

  const categoriasKeys = Object.keys(categorias);
  categoriasKeys.forEach((cat, index) => {
    const aba = document.createElement('div');
    aba.textContent = cat;
    aba.className = 'aba' + (index === 0 ? ' ativa' : '');
    aba.onclick = () => {
      document.querySelectorAll('.aba').forEach(el => el.classList.remove('ativa'));
      aba.classList.add('ativa');
      mostrarCategoria(cat);
    };
    abasEl.appendChild(aba);
  });

  function mostrarCategoria(categoria) {
    produtosEl.innerHTML = '';
    categorias[categoria].forEach((produto, index) => {
      const div = document.createElement('div');
      div.className = 'produto';
      
      
      
      

      const adicionaisHTML = (produto.adicionais || []).map((adicional, i) => {
        const id = `adicional-${index}-${i}`;
        return `
          <label for="${id}">
            <input type="checkbox" id="${id}" name="adicional" value="${adicional.nome}" data-valor="${adicional.valor}">
            ${adicional.nome} (+R$ ${adicional.valor.toFixed(2).replace('.', ',')})
          </label><br>
        `;
      }).join('');

      div.innerHTML = `
        <h4 class="nomeProd">${produto.nome}</h4>
        <p class="descricaoProd">${produto.descricao || ''}</p>
        ${produto.imagens && produto.imagens[0] ? `<img class="produto-img" src="imagens/${produto.imagens[0]}" />` : ''}
        <p class="precoProd"><strong>R$ ${parseFloat(produto.preco).toFixed(2).replace('.', ',')}</strong></p>
        <div class="adicionais">${adicionaisHTML}</div>
        <button class="btn" onclick='adicionarAoCarrinhoComAdicionais(this, ${JSON.stringify(produto)})'>Adicionar</button>
      `;
      produtosEl.appendChild(div);
    });
  }

  mostrarCategoria(categoriasKeys[0]);
});

document.getElementById('form-pedido').onsubmit = e => {
  e.preventDefault();

  const nome = document.getElementById('nome').value.trim();
  const whatsapp = document.getElementById('whatsapp').value.trim();
  const endereco = document.getElementById('endereco').value.trim();
  const pagamento = document.getElementById('pagamento').value;
  const observacoes = document.getElementById('observacoes').value.trim();

  const carrinhoArray = Object.values(carrinho);
  if (carrinhoArray.length === 0) {
    alert("Seu carrinho est√° vazio.");
    return;
  }

  let total = 0;
  carrinhoArray.forEach(item => {
    let subtotal = item.preco * item.qtd;
    if (item.adicionais) {
      item.adicionais.forEach(nome => {
        const adicional = item.todosAdicionais.find(a => a.nome === nome);
        if (adicional) subtotal += adicional.valor * item.qtd;
      });
    }
    total += subtotal;
  });

  const pedido = {
    data: new Date().toLocaleString(),
    cliente: { nome, whatsapp, endereco, pagamento, observacoes },
    carrinho: carrinhoArray,
    total: total.toFixed(2),
    status: 'pendente'
  };

  pedidosRef.push(pedido).then(() => {
    alert("Pedido enviado com sucesso!");
    location.reload();
  }).catch(err => {
    alert("Erro ao enviar pedido: " + err.message);
  });
};
  </script>
  
  
  <!-- banner -->
  
  <script>
  const slides = document.querySelectorAll('.slide');
  const prevBtn = document.querySelector('.prev');
  const nextBtn = document.querySelector('.next');
  let currentIndex = 0;
  let interval;

  function showSlide(index) {
    const totalSlides = slides.length;
    if (index >= totalSlides) currentIndex = 0;
    else if (index < 0) currentIndex = totalSlides - 1;
    else currentIndex = index;

    document.querySelector('.slides').style.transform = `translateX(-${currentIndex * 100}%)`;
  }

  function nextSlide() {
    showSlide(currentIndex + 1);
  }

  function prevSlide() {
    showSlide(currentIndex - 1);
  }

  nextBtn.addEventListener('click', () => {
    nextSlide();
    resetAutoSlide();
  });

  prevBtn.addEventListener('click', () => {
    prevSlide();
    resetAutoSlide();
  });

  function autoSlide() {
    interval = setInterval(nextSlide, 10000);
  }

  function resetAutoSlide() {
    clearInterval(interval);
    autoSlide();
  }

  // Inicia o slider
  showSlide(currentIndex);
  autoSlide();
  
  
  function verificarStatus() {
  const agora = new Date();
  const dia = agora.getDay(); // 0 = Domingo, 1 = Segunda, ..., 6 = S√°bado
  const hora = agora.getHours();
  const minuto = agora.getMinutes();
  const status = document.getElementById('status-horario');

  let aberto = false;

  // Segunda a sexta
  if (dia >= 1 && dia <= 5) {
    const manhaInicio = 6;
    const manhaFimHora = 10;
    const manhaFimMinuto = 30;
    const noiteInicio = 18;
    const noiteFimHora = 22;
    const noiteFimMinuto = 0;

    if ((hora > manhaInicio && hora < manhaFimHora) ||
        (hora === manhaInicio && minuto >= 0) ||
        (hora === manhaFimHora && minuto <= manhaFimMinuto)) {
      aberto = true;
    }

    if ((hora > noiteInicio && hora < noiteFimHora) ||
        (hora === noiteInicio && minuto >= 0) ||
        (hora === noiteFimHora && minuto <= noiteFimMinuto)) {
      aberto = true;
    }
  }

  // S√°bado
  else if (dia === 6) {
    const manhaInicio = 6;
    const manhaFimHora = 10;
    const manhaFimMinuto = 30;
    const noiteInicio = 18;
    const noiteFimHora = 22;
    const noiteFimMinuto = 0;

    if ((hora > manhaInicio && hora < manhaFimHora) ||
        (hora === manhaInicio && minuto >= 0) ||
        (hora === manhaFimHora && minuto <= manhaFimMinuto)) {
      aberto = true;
    }

    if ((hora > noiteInicio && hora < noiteFimHora) ||
        (hora === noiteInicio && minuto >= 0) ||
        (hora === noiteFimHora && minuto <= noiteFimMinuto)) {
      aberto = true;
    }
  }

  // Domingo
  else if (dia === 0) {
    const manhaInicio = 6;
    const manhaFimHora = 10;
    const manhaFimMinuto = 30;
    const noiteInicio = 18;
    const noiteFimHora = 22;
    const noiteFimMinuto = 0;

    if ((hora > manhaInicio && hora < manhaFimHora) ||
        (hora === manhaInicio && minuto >= 0) ||
        (hora === manhaFimHora && minuto <= manhaFimMinuto)) {
      aberto = true;
    }

    if ((hora > noiteInicio && hora < noiteFimHora) ||
        (hora === noiteInicio && minuto >= 0) ||
        (hora === noiteFimHora && minuto <= noiteFimMinuto)) {
      aberto = true;
    }
  }

  if (aberto) {
    status.textContent = "Aberto Agora";
    status.classList.remove("fechado");
    status.classList.add("aberto");
  } else {
    status.textContent = "Fechado Agora";
    status.classList.remove("aberto");
    status.classList.add("fechado");
  }
}

verificarStatus();
setInterval(verificarStatus, 60000);
</script>
<!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase, ref, onValue } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

        // Configura√ß√£o do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyD7zUsB44wc3DPEMJ3tMeB2WxPkhICxzpQ",
            authDomain: "loja-31f80.firebaseapp.com",
            databaseURL: "https://loja-31f80-default-rtdb.firebaseio.com",
            projectId: "loja-31f80",
            storageBucket: "loja-31f80.appspot.com",
            messagingSenderId: "10287886567",
            appId: "1:10287886567:web:80131c6086c573689cb242"
        };

        // Inicializar Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const promotionsRef = ref(database, 'promotions');

        // Vari√°veis globais
        let promotions = [];
        let currentIndex = 0;
        let interval;

        // Disponibilizar fun√ß√µes globalmente
        window.nextSlide = nextSlide;
        window.prevSlide = prevSlide;
        window.showSlide = showSlide;

        // Carregar promo√ß√µes do Firebase
        function loadPromotions() {
            onValue(promotionsRef, (snapshot) => {
                promotions = [];
                if (snapshot.exists()) {
                    snapshot.forEach((childSnapshot) => {
                        promotions.push({
                            id: childSnapshot.key,
                            ...childSnapshot.val()
                        });
                    });
                }
                renderSlides();
                startAutoSlide();
            });
        }

        // Fun√ß√£o para renderizar slides
        function renderSlides() {
            const slidesContainer = document.getElementById('slides');
            const indicatorsContainer = document.getElementById('indicators');
            
            if (promotions.length === 0) {
                slidesContainer.innerHTML = `
                    <div class="slide">
                        <div class="slide-content">
                            <div class="empty-state">
                                <span>üé≠</span>
                                <h3>Nenhuma promo√ß√£o cadastrada</h3>
                                <p>Acesse o painel admin para adicionar promo√ß√µes</p>
                            </div>
                        </div>
                    </div>
                `;
                indicatorsContainer.innerHTML = '<div class="indicator active"></div>';
                return;
            }

            // Gerar slides
            slidesContainer.innerHTML = promotions.map(promo => `
                <div class="slide">
                    <img class="slide-image" src="imagens/${promo.imageName}" alt="${promo.title}" onerror="this.style.display='none'">
                    <div class="slide-content">
                        <h3>${promo.title}</h3>
                        <p>${promo.description}</p>
                        <div class="price">${promo.price}</div>
                    </div>
                </div>
            `).join('');

            // Gerar indicadores
            indicatorsContainer.innerHTML = promotions.map((_, index) => 
                `<div class="indicator ${index === 0 ? 'active' : ''}" onclick="showSlide(${index})"></div>`
            ).join('');

            currentIndex = 0;
            showSlide(0);
        }

        // Fun√ß√£o para mostrar slide espec√≠fico
        function showSlide(index) {
            const totalSlides = promotions.length;
            if (totalSlides === 0) return;

            if (index >= totalSlides) currentIndex = 0;
            else if (index < 0) currentIndex = totalSlides - 1;
            else currentIndex = index;

            document.getElementById('slides').style.transform = `translateX(-${currentIndex * 100}%)`;
            
            // Atualizar indicadores
            document.querySelectorAll('.indicator').forEach((indicator, i) => {
                indicator.classList.toggle('active', i === currentIndex);
            });
        }

        // Fun√ß√£o para pr√≥ximo slide
        function nextSlide() {
            showSlide(currentIndex + 1);
        }

        // Fun√ß√£o para slide anterior
        function prevSlide() {
            showSlide(currentIndex - 1);
        }

        // Auto slide
        function startAutoSlide() {
            stopAutoSlide();
            if (promotions.length > 1) {
                interval = setInterval(nextSlide, 5000);
            }
        }

        function stopAutoSlide() {
            if (interval) {
                clearInterval(interval);
            }
        }

        // Pausar auto slide ao passar mouse
        document.addEventListener('DOMContentLoaded', function() {
            const slider = document.querySelector('.slider');
            if (slider) {
                slider.addEventListener('mouseenter', stopAutoSlide);
                slider.addEventListener('mouseleave', startAutoSlide);
            }
            
            // Inicializar aplica√ß√£o
            loadPromotions();
        });
    </script>
    
</body>
</html>